<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Page Lists | AddWiki Docs</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="MediaWiki Related PHP Libraries and Tooling">
    
    <link rel="preload" href="/assets/css/0.styles.8f3dca9f.css" as="style"><link rel="preload" href="/assets/js/app.82ab62ce.js" as="script"><link rel="preload" href="/assets/js/2.0b72dd64.js" as="script"><link rel="preload" href="/assets/js/1.4600e4e3.js" as="script"><link rel="preload" href="/assets/js/31.d750c65e.js" as="script"><link rel="prefetch" href="/assets/js/10.3b483602.js"><link rel="prefetch" href="/assets/js/11.037a3ff9.js"><link rel="prefetch" href="/assets/js/12.faf86700.js"><link rel="prefetch" href="/assets/js/13.8182b558.js"><link rel="prefetch" href="/assets/js/14.0ee28046.js"><link rel="prefetch" href="/assets/js/15.04c15998.js"><link rel="prefetch" href="/assets/js/16.2986d939.js"><link rel="prefetch" href="/assets/js/17.7585d2d2.js"><link rel="prefetch" href="/assets/js/18.502d2318.js"><link rel="prefetch" href="/assets/js/19.037487a6.js"><link rel="prefetch" href="/assets/js/20.8a4bade4.js"><link rel="prefetch" href="/assets/js/21.f905613e.js"><link rel="prefetch" href="/assets/js/22.a523f578.js"><link rel="prefetch" href="/assets/js/23.4e692f50.js"><link rel="prefetch" href="/assets/js/24.7bb359ee.js"><link rel="prefetch" href="/assets/js/25.1704827f.js"><link rel="prefetch" href="/assets/js/26.b7e7223a.js"><link rel="prefetch" href="/assets/js/27.8560583e.js"><link rel="prefetch" href="/assets/js/28.996e8f64.js"><link rel="prefetch" href="/assets/js/29.9cfb73fd.js"><link rel="prefetch" href="/assets/js/3.515fc370.js"><link rel="prefetch" href="/assets/js/30.666158ff.js"><link rel="prefetch" href="/assets/js/32.62e35132.js"><link rel="prefetch" href="/assets/js/33.507aadcc.js"><link rel="prefetch" href="/assets/js/34.95728d0c.js"><link rel="prefetch" href="/assets/js/35.9ef5874a.js"><link rel="prefetch" href="/assets/js/36.a6215e49.js"><link rel="prefetch" href="/assets/js/37.b5ee6ea9.js"><link rel="prefetch" href="/assets/js/38.f0ffa5c4.js"><link rel="prefetch" href="/assets/js/39.5488ca53.js"><link rel="prefetch" href="/assets/js/4.2760da4e.js"><link rel="prefetch" href="/assets/js/40.ea974de9.js"><link rel="prefetch" href="/assets/js/41.dc82f093.js"><link rel="prefetch" href="/assets/js/42.f70dc486.js"><link rel="prefetch" href="/assets/js/5.cfe5cb74.js"><link rel="prefetch" href="/assets/js/6.2a915317.js"><link rel="prefetch" href="/assets/js/7.9a24c05f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.e2c5c574.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8f3dca9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">AddWiki Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/v3/" class="nav-link">
  V3 (latest)
</a></div><div class="nav-item"><a href="/v2/" class="nav-link router-link-active">
  V2 (legacy)
</a></div><div class="nav-item"><a href="https://github.com/addwiki" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://packagist.org/packages/addwiki/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Packagist
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/v3/" class="nav-link">
  V3 (latest)
</a></div><div class="nav-item"><a href="/v2/" class="nav-link router-link-active">
  V2 (legacy)
</a></div><div class="nav-item"><a href="https://github.com/addwiki" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://packagist.org/packages/addwiki/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Packagist
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/v2/" aria-current="page" class="sidebar-link">&lt; All Packages</a></li><li><a href="/v2/mediawiki-api/" aria-current="page" class="sidebar-link">mediawiki-api</a></li><li><a href="/v2/mediawiki-api/page-lists.html" aria-current="page" class="active sidebar-link">Page Lists</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v2/mediawiki-api/page-lists.html#all-pages-in-a-category" class="sidebar-link">All pages in a category</a></li><li class="sidebar-sub-header"><a href="/v2/mediawiki-api/page-lists.html#pages-that-transclude-a-template" class="sidebar-link">Pages that transclude a template</a></li><li class="sidebar-sub-header"><a href="/v2/mediawiki-api/page-lists.html#pages-that-link-to-a-given-page" class="sidebar-link">Pages that link to a given page</a></li><li class="sidebar-sub-header"><a href="/v2/mediawiki-api/page-lists.html#pages-with-a-given-prefix" class="sidebar-link">Pages with a given prefix</a></li><li class="sidebar-sub-header"><a href="/v2/mediawiki-api/page-lists.html#random-pages" class="sidebar-link">Random pages</a></li></ul></li><li><a href="/v2/mediawiki-api/category-traversal.html" class="sidebar-link">Category Traversal</a></li><li><a href="/v2/mediawiki-api/getting-namespaces.html" class="sidebar-link">Getting Namespaces</a></li><li><a href="/v2/mediawiki-api/uploading-files.html" class="sidebar-link">Uploading files</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="page-lists"><a href="#page-lists" class="header-anchor">#</a> Page Lists</h1> <p>The Page List Getter allows you to retrieve lists of pages based on various criteria.
It takes care of continuing queries where they span multiple requests, ensuring that you get all pages in your result set.
This means that for some lists of pages a great many requests will be sent, and you should account for this possible performance problem when you request these lists (e.g. by running these as a background process and caching the results).</p> <p>To use it, first get a new PageListGetter object from the factory:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$api</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Mediawiki<span class="token punctuation">\</span>Api<span class="token punctuation">\</span>MediawikiApi</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'http://localhost/w/api.php'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$services</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Mediawiki<span class="token punctuation">\</span>Api<span class="token punctuation">\</span>MediawikiFactory</span><span class="token punctuation">(</span> <span class="token variable">$api</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$pageListGetter</span> <span class="token operator">=</span> <span class="token variable">$services</span><span class="token operator">-&gt;</span><span class="token function">newPageListGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The examples below all use this <code>$pageListGetter</code> object.</p> <p>All methods of the PageListGetter return <code>Page</code> objects; this class is part of the addwiki/mediawiki-datamodel package, and is documented in that page’s documentation.</p> <h2 id="all-pages-in-a-category"><a href="#all-pages-in-a-category" class="header-anchor">#</a> All pages in a category</h2> <p>Note that the category name as provided should also include the ‘Category’ namespace prefix (in the language of the wiki, or in canonical English form).</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$examplePages</span> <span class="token operator">=</span> <span class="token variable">$pageListGetter</span><span class="token operator">-&gt;</span><span class="token function">getPageListFromCategoryName</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Category:Example pages'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span> <span class="token variable">$examplePages</span><span class="token operator">-&gt;</span><span class="token function">asArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token variable">$exPage</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token variable">$exPage</span><span class="token operator">-&gt;</span><span class="token function">getTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="pages-that-transclude-a-template"><a href="#pages-that-transclude-a-template" class="header-anchor">#</a> Pages that transclude a template</h2> <p>Although generally it is templates that are transcluded, any page may be and so any page title can be passed to this method.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$usingTestTemplate</span> <span class="token operator">=</span> <span class="token variable">$pageListGetter</span><span class="token operator">-&gt;</span><span class="token function">getPageListFromPageTransclusions</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Template:Test'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="pages-that-link-to-a-given-page"><a href="#pages-that-link-to-a-given-page" class="header-anchor">#</a> Pages that link to a given page</h2> <p>Get the list of pages that link to a particular page.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$backLinks</span> <span class="token operator">=</span> <span class="token variable">$pageListGetter</span><span class="token operator">-&gt;</span><span class="token function">getFromWhatLinksHere</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Test page'</span> <span class="token punctuation">)</span>
</code></pre></div><h2 id="pages-with-a-given-prefix"><a href="#pages-with-a-given-prefix" class="header-anchor">#</a> Pages with a given prefix</h2> <p>Find pages that have a particular prefix to their title. This can also be used to find subpages of any page.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$backLinks</span> <span class="token operator">=</span> <span class="token variable">$pageListGetter</span><span class="token operator">-&gt;</span><span class="token function">getFromPrefix</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'A page/'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="random-pages"><a href="#random-pages" class="header-anchor">#</a> Random pages</h2> <p>Get up to ten random pages at a time. This method takes the same arguments as the API <a href="https://www.mediawiki.org/wiki/API:Random" target="_blank" rel="noopener noreferrer">list=random<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> query.</p> <ul><li><code>rnlimit</code> How many pages to get. No more than 10 (20 for bots) allowed. Default: 1.</li> <li><code>rnnamespace</code> Pipe-separate list of namespace IDs.</li> <li><code>rnfilterredir</code> How to filter for redirects. Possible values: <code>all</code>, <code>redirects</code>, <code>nonredirects</code>. Default: <code>nonredirects</code>.</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$backLinks</span> <span class="token operator">=</span> <span class="token variable">$pageListGetter</span><span class="token operator">-&gt;</span><span class="token function">getRandom</span><span class="token punctuation">(</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'rnlimit'</span> <span class="token operator">=&gt;</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'rnnamespace'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'3|5|6'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'rnfilterredir'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'all'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/addwiki/addwiki/edit/master/docs/v2/mediawiki-api/page-lists.md" target="_blank" rel="noopener noreferrer">Edit this page on Github!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/1/2024, 8:39:41 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/v2/mediawiki-api/" class="prev router-link-active">
        mediawiki-api
      </a></span> <span class="next"><a href="/v2/mediawiki-api/category-traversal.html">
        Category Traversal
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.82ab62ce.js" defer></script><script src="/assets/js/2.0b72dd64.js" defer></script><script src="/assets/js/1.4600e4e3.js" defer></script><script src="/assets/js/31.d750c65e.js" defer></script>
  </body>
</html>
